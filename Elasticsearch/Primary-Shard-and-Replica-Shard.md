### 들어가기 전에

Elasticsearch는 하나의 인덱스가 샤드라는 조각으로 나뉘고

각 샤드는 루씬 자체의 독립적인 인스턴스

컴퓨터에 클러스터가 있는 경우 샤드를 여러 컴퓨터에 분산 시키는 것이 가능


### Primary shard & Replica Shard

일반적으로 클러스터 내 물리적 서버 당 하나의 노드가 설치 됨

프라이머리 샤드 : 데이터의 원본
-> 쓰기 요청이 처음 보내질 곳

레플리카 샤드 : 데이터의 복제 
-> 읽기 요청을 처리할 수 있는 곳


### 왜 굳이 replica shard를 만드는가?

답은 복원력을 높이기 위해서

노드의 작동문제나 노드가 사라지게 된다면 다른 노드에 배치된 레플리카를 사용하도록 한다

레플리카를 프라이머리로 새롭게 지정 시 -> 노드에 발생한 손실을 회복할 때까지 새로운 데이터를 받고 읽기 요청 가능